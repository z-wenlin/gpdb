el8_migrate_locale identify

2024-04-25 18:20:57,085 - INFO - There are 2 catalog indexes that needs reindex when doing OS upgrade from EL7->EL8.
indexrelid|indexname                 |tablename    |collname|pg_get_indexdef                                                                                                          
----------+--------------------------+-------------+--------+-------------------------------------------------------------------------------------------------------------------------
3597      |pg_seclabel_object_index  |pg_seclabel  |default |CREATE UNIQUE INDEX pg_seclabel_object_index ON pg_catalog.pg_seclabel USING btree (objoid, classoid, objsubid, provider)
3593      |pg_shseclabel_object_index|pg_shseclabel|default |CREATE UNIQUE INDEX pg_shseclabel_object_index ON pg_catalog.pg_shseclabel USING btree (objoid, classoid, provider)      
(2 rows)


2024-04-25 18:20:57,213 - INFO - There are 5 user indexes in database test that needs reindex when doing OS upgrade from EL7->EL8.
indexrelid|indexname        |tablename          |collname|pg_get_indexdef                                                                      
----------+-----------------+-------------------+--------+-------------------------------------------------------------------------------------
16392     |"test_id2 \ $ \\"|test_character_type|default |CREATE INDEX "test_id2 \ $ \\" ON public.test_character_type USING btree (varchar_10)
16391     |"test_id1 's "   |test_character_type|default |CREATE INDEX "test_id1 's " ON public.test_character_type USING btree (char_1)       
16486     |test_idx_citext  |test_citext        |default |CREATE INDEX test_idx_citext ON public.test_citext USING btree (nick)                
16484     |test_citext_pkey |test_citext        |default |CREATE UNIQUE INDEX test_citext_pkey ON public.test_citext USING btree (nick)        
16393     |" test_id "" 3 " |test_character_type|default |CREATE INDEX " test_id "" 3 " ON public.test_character_type USING btree (txt)        
(5 rows)


2024-04-25 18:20:57,465 - WARNING - There are 1 tables in database test that the distribution key is using custom operator class, should be checked when doing OS upgrade from EL7 to EL8.
tablename  |distclass
-----------+---------
test_citext|16435    
(1 row)


2024-04-25 18:20:57,521 - WARNING - There are 7 range partitioning tables with partition key in collate types(like varchar, char, text) in database test, these tables might be affected due to Glibc upgrade and should be checked when doing OS upgrade from EL7 to EL8.
parrelid|tablename             |collation|attname|hasdefaultpartition
--------+----------------------+---------+-------+-------------------
16487   |partition_range_test_3|100      |date   |f                  
16515   |partition_range_test_4|100      |date   |t                  
16631   |partition_range_test_1|100      |date   |t                  
16658   |partition_range_test_2|100      |date   |f                  
16576   |testddlwithnodata     |100      |date   |f                  
16597   |testddlwithdata       |100      |date   |t                  
16549   |testddl               |100      |date   |t                  
(7 rows)


